# 13-1. 교착 상태란

***

* #### 교착 상태 : 일어나지 않을 사건을 기다리며 무한히 대기하는 현상
  
  * 대표적인 예 : 식사하는 철학자 문제
    
    * 젓가락 : 자원(임계 구역)
    
    * 철학자 : 프로세스 or 스레드
  
  <img src="https://t1.daumcdn.net/cfile/tistory/2523F64E572F2C1E09" title="" alt="식사하는 철학자 문제(C언어)" width="292">
  
  * 위와 다른 다양한 예가 존재
    
    * ex) 뮤텍스 락에 잠금 잠치가 2개인 경우

* #### 자원 할당 그래프 : 교착 상태를 그래프로 표현한 것
  
  <img title="" src="https://jhi93.github.io/assets/img/os/ResourceAllocation.png" alt="Deadlocks-1 | HAEIN" width="495">
  
  * P -> R : 프로세스가 자원 할당 받을 대기 중
  
  * R -> P : 프로세스가 자원 할당 중
  
  * (1)만 교착 상태
    
    - <mark>why? 하나하나씩 다 따져보면 됨, 위의 철학자는 원형</mark>으로 교착 상태이다.

* #### 교착 상태 발생 조건 4가지 : 상호 배제, 점유와 대기, 비선점, 원형 대기
  
  * 상호 배제
    
    * 근본적인 문제, 임계 구역이 없으면 교착 상태가 안함
  
  * 점유와 대기
    
    * 철학자와 같이 하나의 자원을 보유한 채 다른 자원을 기다림
  
  * 비선점
    
    * 선점이라면, 옆 철학자의 포크를 뺏어서 교착 상태를 벗어날 수 있음
  
  * 원형 대기
    
    * 교착 상태를 자원 할당 그래프로 표현 했을 때, 철학자와 같이 원의 형태
  
  * 위 4가지 조건을 다 만족해도 교착 상태가 안될 수 있다!
